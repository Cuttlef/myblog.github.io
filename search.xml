<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>My Gallery</title>
      <link href="//undefined.html"/>
      <url>//undefined.html</url>
      
        <content type="html"><![CDATA[<p>test</p>]]></content>
      
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="//4a17b156.html"/>
      <url>//4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>经过一段时间的努力，终于把博客网站搭建好了，后续会持续更新<br>记得关注公众号: <a href="https://cdn.jsdelivr.net/gh/Cuttlef/picodemo/img/qrcode_for_gh_4540cf5413c1_258.jpg">https://cdn.jsdelivr.net/gh/Cuttlef/picodemo/img/qrcode_for_gh_4540cf5413c1_258.jpg</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 新站开张 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux下安装Nginx及环境配置</title>
      <link href="//b381179.html"/>
      <url>//b381179.html</url>
      
        <content type="html"><![CDATA[<p>引言:我尝试过github托管但是访问速度真是头痛，也试过coding托管（不过现在归为腾讯下的了，懂的都懂）另外gitee托管普通版不能自定义域名，也是需要付费才可以滴，所以还是部署在自己的服务器上吧。</p><h2 id="第一步：下载nginx压缩包"><a href="#第一步：下载nginx压缩包" class="headerlink" title="第一步：下载nginx压缩包"></a><strong>第一步：下载nginx压缩包</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget -c https://nginx.org/download/nginx-1.20.2.tar.gz</span><br></pre></td></tr></table></figure><p>注意：这一步最好在自己的目标目录进行操作，我一般是把压缩包下载到/usr/local目录下。</p><h2 id="第二步：配置nginx安装所需的环境"><a href="#第二步：配置nginx安装所需的环境" class="headerlink" title="第二步：配置nginx安装所需的环境"></a><strong>第二步：配置nginx安装所需的环境</strong></h2><h3 id="1-安装gcc"><a href="#1-安装gcc" class="headerlink" title="1. 安装gcc"></a><strong>1. 安装gcc</strong></h3><p>安装 nginx 需要先将官网下载的源码进行编译，编译依赖 gcc 环境。安装指令如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install gcc-c++</span><br></pre></td></tr></table></figure><h3 id="2-安装PCRE-pcre-devel"><a href="#2-安装PCRE-pcre-devel" class="headerlink" title="2. 安装PCRE pcre-devel"></a><strong>2. 安装PCRE pcre-devel</strong></h3><p>Nginx的Rewrite模块和HTTP核心模块会使用到PCRE正则表达式语法。这里需要安装两个安装包pcre和pcre-devel。第一个安装包提供编译版本的库，而第二个提供开发阶段的头文件和编译项目的源代码。安装指令如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install -y pcre pcre-devel</span><br></pre></td></tr></table></figure><h3 id="3-安装zlib"><a href="#3-安装zlib" class="headerlink" title="3.安装zlib"></a><strong>3.安装zlib</strong></h3><p>zlib库提供了开发人员的压缩算法，在Nginx的各种模块中需要使用gzip压缩。安装指令如下:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install -y zlib zlib-devel</span><br></pre></td></tr></table></figure><h3 id="4-安装Open-SSL"><a href="#4-安装Open-SSL" class="headerlink" title="4.安装Open SSL"></a><strong>4.安装Open SSL</strong></h3><p>nginx不仅支持 http协议，还支持 https（即在 ssl 协议上传输 http），如果使用了 https，需要安装 OpenSSL 库。安装指令如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure><h2 id="第三步：解压nginx压缩包并安装"><a href="#第三步：解压nginx压缩包并安装" class="headerlink" title="第三步：解压nginx压缩包并安装"></a><strong>第三步：解压nginx压缩包并安装</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar -zxvf nginx-1.20.2.tar.gz nginx-1.20.2/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd nginx-1.20.2/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./configure</span><br></pre></td></tr></table></figure><p><strong>额外说明</strong>：如果需要开始https支持，这里请不要直接执行<code>./configure</code>，即不要直接执行该脚本，而是在该脚本后面加上SSL模块，请执行如下命令替代 <code>./confingure</code> :</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./configure --with-http_ssl_module</span><br></pre></td></tr></table></figure><p>至于 <code>--with-http_ssl_module</code> 的意思，顾名思义可知是添加https支持。</p><h2 id="第四步：编译安装nginx"><a href="#第四步：编译安装nginx" class="headerlink" title="第四步：编译安装nginx"></a><strong>第四步：编译安装nginx</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><p>然后回车，如果编译出错，请检查是否前面的4个安装都没有问题。<br>编译成功之后，就可以安装了，输入以下指令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure><h2 id="第五步：启动nginx"><a href="#第五步：启动nginx" class="headerlink" title="第五步：启动nginx"></a><strong>第五步：启动nginx</strong></h2><p>进入/usr/local/nginx/sbin目录，输入./nginx即可启动nginx</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./nginx</span><br></pre></td></tr></table></figure><p>关闭nginx</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./nginx -s quit  或者 ./nginx -s stop</span><br></pre></td></tr></table></figure><p>重启nginx</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./nginx -s reload</span><br></pre></td></tr></table></figure><p>查看nginx进程</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps aux|grep nginx</span><br></pre></td></tr></table></figure><p>设置nginx开机启动，只需在rc.local增加启动代码即可。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/rc.local</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">然后在底部增加/usr/local/nginx/sbin/nginx</span><br></pre></td></tr></table></figure><h2 id="第六步配置nginx，让网站跑起来，并设置https访问"><a href="#第六步配置nginx，让网站跑起来，并设置https访问" class="headerlink" title="第六步配置nginx，让网站跑起来，并设置https访问"></a>第六步配置nginx，让网站跑起来，并设置https访问</h2><h3 id="1-根据上面的路径"><a href="#1-根据上面的路径" class="headerlink" title="1.根据上面的路径"></a>1.根据上面的路径</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 进入</span><br><span class="line">cd /usr/local/nginx/conf</span><br><span class="line"># 找到nginx.conf并编辑</span><br><span class="line">vim nginx.conf</span><br></pre></td></tr></table></figure><p>进来以后找到http，下面配置是为了最终配置为HTTPS  ，如不需要配置HTTPS则不需要如下修改</p><p>如图：</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/Cuttlef/picodemo/img/image-20220103221329597.png" alt="image-20220103221329597"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/Cuttlef/picodemo/img/image-20220103221627253.png" alt="image-20220103221627253"></p><h3 id="2-在解析域名的网站下载ssl证书（nginx版本）"><a href="#2-在解析域名的网站下载ssl证书（nginx版本）" class="headerlink" title="2.在解析域名的网站下载ssl证书（nginx版本）"></a>2.在解析域名的网站下载ssl证书（nginx版本）</h3><p>上传服务器目录,解压后会有  *.pem  与 *.key</p><p>我的路径是</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/local/nginx/conf.d/cert</span><br></pre></td></tr></table></figure><p>回到nginx.conf</p><p>拉到最底下会看到HTTPS server</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://cdn.jsdelivr.net/gh/Cuttlef/picodemo/img/image-20220103222850799.png" alt="image-20220103222850799"></p><p>最后</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /usr/local/nginx/sbin</span><br><span class="line">./nginx -s reload  # 重启nginx即可</span><br></pre></td></tr></table></figure><p><strong>结语</strong>:这样就可以愉快的访问自己的网站啦！如果遇到问题可以留言。</p>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> 部署网站 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
